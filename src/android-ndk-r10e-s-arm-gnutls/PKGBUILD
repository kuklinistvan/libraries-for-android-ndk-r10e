# Maintainer: Kuklin Istv√°n Alexander <istvan@codekuklin.com>
baselibname=gnutls
pkgname=android-ndk-r10e-s-arm-"$baselibname"
pkgver=3.6.12
pkgrel=1
pkgdesc="GnuTLS is a secure communications library implementing the SSL, TLS and DTLS protocols and technologies around them."
arch=('any')
url=""
groups=()
depends=(
  'android-ndk-r10e-s-arm'
  'android-ndk-r10e-s-arm-gmp'
  'android-ndk-r10e-s-arm-libunistring'
  'android-ndk-r10e-s-arm-nettle'
  'android-ndk-r10e-s-arm-libtasn1'
)
makedepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=("!strip" "staticlibs")
install=
changelog=
source=(
  "https://www.gnupg.org/ftp/gcrypt/gnutls/v3.6/gnutls-3.6.12.tar.xz"
)
md5sums=('a23900f14980a467bdce3a0fd31dfa18')

noextract=()

build() {
  cd "$baselibname"-"$pkgver"
  unset CFLAGS CXXFLAGS
  ./configure --without-p11-kit --disable-cxx --enable-static --host=arm-linux-androideabi --prefix=/usr/ndk/r10e/standalone/armeabi/sysroot/usr
  make 
}

package() {
  cd "$srcdir"/"$baselibname"-"$pkgver"
  make DESTDIR="$pkgdir" install
  rm -rf "$pkgdir"/usr/ndk/r10e/standalone/armeabi/sysroot/usr/share/info
}
