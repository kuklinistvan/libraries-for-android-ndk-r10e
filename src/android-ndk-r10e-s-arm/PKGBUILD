# Maintainer: Kuklin Istv√°n Alexander <istvan@codekuklin.com>
pkgname=android-ndk-r10e-s-arm
pkgver=1.0.0
pkgrel=1
pkgdesc="Android NDK revision 10e - Standalone version for ARMEABI"
arch=('x86_64')
url=""
# license=('GPL')
groups=()
depends=()
makedepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=("!strip" "staticlibs")
install=
changelog=
source=(
  'https://dl.google.com/android/repository/android-ndk-r10e-linux-x86_64.zip'
  'cmake.toolchain'
)
noextract=()
md5sums=('070be287539e3e7706f8dabfb6bf9879'
         '5f92ac2ca02508c83e31bee21bb68631')

build() {
  cd android-ndk-r10e
  mkdir standalone
  ./build/tools/make-standalone-toolchain.sh --arch=arm --install-dir=./standalone/armeabi
}

package() {
  mkdir -p "$pkgdir"/usr/android-ndk/r10e
  cp -r "$srcdir"/android-ndk-r10e/standalone "$pkgdir"/usr/android-ndk/r10e/standalone
  chmod o+rX -R "$pkgdir"/usr/android-ndk/r10e/standalone
  chmod o+rx -R "$pkgdir"/usr/android-ndk/r10e/standalone/armeabi/bin

  mkdir -p "$pkgdir"/usr/bin
  cd "$pkgdir"/usr/bin
  ln -s ../../usr/android-ndk/r10e/standalone/armeabi/bin/arm-linux-androideabi-* .

  cp -L "$srcdir"/cmake.toolchain "$pkgdir"/usr/android-ndk/r10e/standalone/armeabi
}
