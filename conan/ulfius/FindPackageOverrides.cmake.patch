From ba96952372cf6972d66309223919b6a39e5236dc Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Kuklin=20Istv=C3=A1n=20Alexander?= <istvan@codekuklin.com>
Date: Wed, 16 Sep 2020 13:54:36 +0200
Subject: [PATCH] CMakeLists.txt findpackage conan hack

---
 CMakeLists.txt | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index e813e5c..7f1989a 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -61,7 +61,7 @@ set(YDER_VERSION_REQUIRED "1.4.9")
 
 # cmake modules
 
-set(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake-modules)
+list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake-modules)
 
 include(GNUInstallDirs)
 include(CheckSymbolExists)
@@ -109,8 +109,7 @@ set(LIBS ${LIBS} ${CMAKE_THREAD_LIBS_INIT})
 option(WITH_GNUTLS "GNU TLS support" ON)
 
 if (WITH_GNUTLS)
-    include(FindGnuTLS)
-    find_package(GnuTLS REQUIRED)
+    find_package(gnutls REQUIRED)
     if (GNUTLS_FOUND)
         set(LIBS ${LIBS} ${GNUTLS_LIBRARIES})
     endif ()
@@ -141,9 +140,8 @@ else ()
     set(U_DISABLE_GNUTLS ON)
 endif ()
 
-include(FindMHD)
-find_package(MHD ${MHD_MIN_VERSION} REQUIRED)
-if (MHD_FOUND)
+find_package(libmicrohttpd ${MHD_MIN_VERSION} REQUIRED)
+if (libmicrohttpd_FOUND)
     set(LIBS ${LIBS} ${MHD_LIBRARIES})
     include_directories(${MHD_INCLUDE_DIRS})
     if (MHD_VERSION_STRING VERSION_LESS "0.9.53")
@@ -160,8 +158,7 @@ endif ()
 option(WITH_CURL "Use Curl library" ON)
 
 if (WITH_CURL)
-    include(FindCURL)
-    find_package(CURL REQUIRED)
+    find_package(curl REQUIRED)
     if (CURL_FOUND)
         set(LIBS ${LIBS} ${CURL_LIBRARIES})
         include_directories(${CURL_INCLUDE_DIRS})
-- 
2.28.0

